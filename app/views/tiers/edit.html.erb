

       <% if session[:admin_id] %>
       <style>
* {
  box-sizing: border-box;
}

body {
  background-color: #f1f1f1;
}


#regForm {
  background-color: #ffffff;
  margin: 100px auto;
  font-family: Raleway;
  padding: 40px;
  width: 100%;
  border-radius: 4px;
      margin-top: -10px;
}



input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Raleway;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
}

button {
  background-color: #00357a;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #00357a;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #00357a;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #4CAF50;
}
.inputGroup {

  }


.first_div{

  color: #ffffff;
font-family: "Helvetica Neue";
font-size: 17px;
font-weight: 700;
letter-spacing: 0.85px;
line-height: 31px;
/* Text style for "Damaged" */
text-align: center;
vertical-align: middle;
line-height: 74px;
font-weight: 700;
  background-color: #ff8409;
  border-radius: 4px;
  height: 74px;
}
.form_label{
  color: #4a4a4a;
font-family: "Helvetica Neue";
font-size: 17px;
font-weight: 700;
letter-spacing: 0.85px;
line-height: 31px;
/* Text style for "Engine Con" */
font-weight: 500;
}


.special_selec{
    color: #ffffff;
font-family: "Helvetica Neue";
font-size: 17px;
font-weight: 700;
letter-spacing: 0.85px;
line-height: 31px;
/* Text style for "Damaged" */
text-align: center;
vertical-align: middle;
line-height: 74px;
font-weight: 700;
  background-color: #ff8409;
  border-radius: 4px;
  height: 74px;
}
.value_button{


    max-width: 376px;
    min-width: 280px;
height: 75px;
background-color: #ff8409;


border: 1px solid #ffffff;
color: #ffffff;
font-family: "Helvetica Neue";
font-size: 18px;
font-weight: 600;

letter-spacing: 4.57px;
line-height: 8px;
text-transform: uppercase;
/* Text style for "VALUE YOUR" */

font-weight: 400;

}

 .email-tel-user{



color: #4a4a4a;
font-family: "Helvetica Neue";
font-size: 19px;
font-weight: 300;
letter-spacing: 2.62px;
line-height: 11px;
/* Text style for "ehabfcih94" */
margin-top: 20px;
font-weight: 300;
    }

    .name_user{
        color: #4a4a4a;
font-family: "Helvetica Neue";
font-size: 22px;
font-weight: 700;
letter-spacing: 3.04px;
line-height: 11px;
/* Text style for "Ehab Moham" */
font-family: "Segoe UI";
font-weight: 700;
    }
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}

    select {

text-align-last: center;
padding-right: 29px;

  background-repeat: no-repeat, repeat;
  background-position: right 20em top 50%, 0 0;
  background-size: .65em auto, 100%;
}

</style>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js"></script>

    <section class="tabs-section"style="margin-top: -80px">
     <%= render 'layouts/header_profile_admin' %>

<br><br><br>
                   <h4 class="card-title" style="margin-left: 400px;">Edit Tier</h4>
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
<!-- <div class="container" >
<div align="center">
   <div class="row" style="background-color: #fff;height: 236px;margin-top: 75px;border-radius: 4px;">
   
   
    <div class="col-2" style="margin-top: 80px; margin-left: -20px;x">
      <h4 class="card-title">KM</h4>
      <div style="margin-top:20px;width: 86px;height: 31px;color: #717171;font-family: 'Open Sans';font-size: 20px;font-weight: 600;line-height: 31px;font-weight: 400;" id="total_km_total"></div>
    </div>

     <div class="col-1"  style="margin-top: 80px;margin-left: -50px;">
          <img src="/first_line_steps.png" style="width: 70px;">
    </div>

       <div class="col-2" style="margin-top: 80px;margin-left: -40px;">
       <h4 class="card-title">Year</h4>
         <div style="margin-top:20px;width: 86px;height: 31px;color: #717171;font-family: 'Open Sans';font-size: 20px;font-weight: 600;line-height: 31px;font-weight: 400;" id="total_year_total"></div>
    </div>
     <div class="col-1"  style="margin-top: 80px;margin-left: -50px;">
          <img src="/first_line_steps.png" style="width: 70px;">
    </div>
   <div class="col-2" style="margin-top: 80px;margin-left: 0px;">
          <h4 class="card-title">Conditions</h4>
         <div style="margin-top:20px;width: 150px;height: 31px;color: #717171;font-family: 'Open Sans';font-size: 20px;font-weight: 600;line-height: 31px;font-weight: 400;" id="total_condition_total"></div>
    </div>
     <div class="col-1"  style="margin-top: 80px;margin-left: -30px;">
          <img src="/first_line_steps.png" style="width: 70px;">
    </div>
   <div class="col-2" style="margin-top: 80px;margin-left: 0px;">
          <h4 class="card-title">Engine & Paint</h4>
         <div style="margin-top:20px;width: 150px;height: 31px;color: #717171;font-family: 'Open Sans';font-size: 20px;font-weight: 600;line-height: 31px;font-weight: 400;" id="total_engine_paint_total"></div>
    </div>
     <div class="col-1"  style="margin-top: 80px;margin-left: 0px;">
          <img src="/first_line_steps.png" style="width: 70px;">
    </div>
   <div class="col-2" style="margin-top: 80px;margin-left: -20px;">
          <h4 class="card-title">Damages</h4>
         <div style="margin-top:20px;width: 150px;height: 31px;color: #717171;font-family: 'Open Sans';font-size: 20px;font-weight: 600;line-height: 31px;font-weight: 400;" id="total_damaged_total"></div>
    </div>




 </div>
</div>
</div>
<br> -->
            <div class="container" >
   <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
             
                   
 
                                    <div id="example23_wrapper" class="dataTables_wrapper dt-bootstrap4">

                                    
      <div class="container" >
                     <div class="row">
   

                              <%= render 'form', tier: @tier %>



                            </div>
 <div style="overflow:auto;    margin-top: -80px;margin-left: 40px;">
    <div style="" align="center">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)" style="width: 301px;height: 65px;font-weight: 700;letter-spacing: 0.85px;line-height: 31px;font-family: Arial;font-weight: 300;font-family: 'Open Sans';"><img src='/arrow_left.png' style='margin-right:40px;'><span style="margin-right:70px;font-family: 'Open Sans';">Previous</span></button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)" style="width: 301px;height: 65px;font-weight: 700;letter-spacing: 0.85px;line-height: 31px;font-family: Arial;font-weight: 300;"><span style='margin-left:70px;font-family: 'Open Sans';'>Next Step</span><img src='/arrow-next.png' style='margin-left:40px;'></button>
    </div>
  </div>


  <script>
 

var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Save";

  } else {
    document.getElementById("nextBtn").innerHTML = "<span style='margin-left:70px;'>Next Step</span><img src='/arrow-next.png' style='margin-left:40px;'>";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}



function nextPrev(n) {



   document.body.scrollTop = 400;
   document.documentElement.scrollTop = 400;
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:

  // Hide the current tab:


  if(currentTab == 0){



    var one_kilometer =  document.getElementById("one_kilometer").value;
    var two_kilometer =  document.getElementById("two_kilometer").value;
    var three_kilometer =  document.getElementById("three_kilometer").value;
    var four_kilometer =  document.getElementById("four_kilometer").value;
    var five_kilometer =  document.getElementById("five_kilometer").value;
    var six_kilometer =  document.getElementById("six_kilometer").value;
    var seven_kilometer =  document.getElementById("seven_kilometer").value;
    var eight_kilometer =  document.getElementById("eight_kilometer").value;
    var nine_kilometer =  document.getElementById("nine_kilometer").value;
    var ten_kilometer =  document.getElementById("ten_kilometer").value;
    var eleven_kilometer =  document.getElementById("eleven_kilometer").value;
    var twelve_kilometer =  document.getElementById("twelve_kilometer").value;
    var thirteen_kilometer =  document.getElementById("thirteen_kilometer").value;
    var fourteen_kilometer =  document.getElementById("fourteen_kilometer").value;
    var fifthteen_kilometer =  document.getElementById("fifthteen_kilometer").value;
    var sixthteen_kilometer =  document.getElementById("sixthteen_kilometer").value;






    if(one_kilometer == "" || two_kilometer == "" || three_kilometer == "" || four_kilometer == "" || five_kilometer == "" || six_kilometer == "" || seven_kilometer == "" || eight_kilometer == "" || nine_kilometer == "" || ten_kilometer == "" || eleven_kilometer == "" || twelve_kilometer == "" || thirteen_kilometer == "" || fourteen_kilometer == "" || fifthteen_kilometer == "" || sixthteen_kilometer == ""){
        
        alert("Please fill in all fields");

    }else{

            if(x[currentTab]){
                 x[currentTab].style.display = "none";
            }
            currentTab = currentTab + n;
            if (currentTab >= x.length) {
              // ... the form gets submitted:
              document.getElementById("regForm").submit();
              return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
    }


  }else if(currentTab == 1){


    var one_year =  document.getElementById("one_year").value;
    var two_year =  document.getElementById("two_year").value;
    var three_year =  document.getElementById("three_year").value;
    var four_year =  document.getElementById("four_year").value;
    var five_year =  document.getElementById("five_year").value;
    var six_year =  document.getElementById("six_year").value;
    var seven_year =  document.getElementById("seven_year").value;
    var eight_year =  document.getElementById("eight_year").value;
    var nine_year =  document.getElementById("nine_year").value;
    var ten_year =  document.getElementById("ten_year").value;
   



    if(one_year == "" || two_year == "" || three_year == "" || four_year == "" || five_year == "" || six_year == "" || seven_year == "" || eight_year == "" || nine_year == "" || ten_year == ""){
        
        alert("Please fill in all fields");

    }else{

            if(x[currentTab]){
                 x[currentTab].style.display = "none";
            }
            currentTab = currentTab + n;
            if (currentTab >= x.length) {
              // ... the form gets submitted:
              document.getElementById("regForm").submit();
              return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
    }


  }else if(currentTab == 2){



    var ac_bad_percentage =  document.getElementById("ac_bad_percentage").value;
    var ac_good_percentage =  document.getElementById("ac_good_percentage").value;
    var ac_verygood_percentage =  document.getElementById("ac_verygood_percentage").value;


    
    var brakes_bad_percentage =  document.getElementById("brakes_bad_percentage").value;
    var brakes_good_percentage =  document.getElementById("brakes_good_percentage").value;
    var brakes_verygood_percentage =  document.getElementById("brakes_verygood_percentage").value;


    var rims_bad_percentage =  document.getElementById("rims_bad_percentage").value;
    var rims_good_percentage =  document.getElementById("rims_good_percentage").value;
    var rims_verygood_percentage =  document.getElementById("rims_verygood_percentage").value;



    var seats_bad_percentage =  document.getElementById("seats_bad_percentage").value;
    var seats_good_percentage =  document.getElementById("seats_good_percentage").value;
    var seats_verygood_percentage =  document.getElementById("seats_verygood_percentage").value;



    var radio_bad_percentage =  document.getElementById("radio_bad_percentage").value;
    var radio_good_percentage =  document.getElementById("radio_good_percentage").value;
    var radio_verygood_percentage =  document.getElementById("radio_verygood_percentage").value;


    var suspension_bad_percentage =  document.getElementById("suspension_bad_percentage").value;
    var suspension_good_percentage =  document.getElementById("suspension_good_percentage").value;
    var suspension_verygood_percentage =  document.getElementById("suspension_verygood_percentage").value;


    var transmission_bad_percentage =  document.getElementById("transmission_bad_percentage").value;
    var transmission_good_percentage =  document.getElementById("transmission_good_percentage").value;
    var transmission_verygood_percentage =  document.getElementById("transmission_verygood_percentage").value;



    var tyres_bad_percentage =  document.getElementById("tyres_bad_percentage").value;
    var tyres_good_percentage =  document.getElementById("tyres_good_percentage").value;
    var tyres_verygood_percentage =  document.getElementById("tyres_verygood_percentage").value;



    if(ac_bad_percentage == "" 
      || ac_good_percentage == "" 
      || ac_verygood_percentage == "" 
      || brakes_bad_percentage == "" 
      || brakes_good_percentage == "" 
      || brakes_verygood_percentage == "" 
      || rims_bad_percentage == "" 
      || rims_good_percentage == "" 
      || rims_verygood_percentage == "" 
      || seats_bad_percentage == "" 
      || seats_good_percentage == "" 
      || seats_verygood_percentage == "" 
      || radio_bad_percentage == "" 
      || radio_good_percentage == "" 
      || radio_verygood_percentage == ""  
      || suspension_bad_percentage == "" 
      || suspension_good_percentage == "" 
      || suspension_verygood_percentage == "" 
      || transmission_bad_percentage == "" 
      || transmission_good_percentage == "" 
      || transmission_verygood_percentage == "" 
      || tyres_bad_percentage == "" 
      || tyres_good_percentage == "" 
      || tyres_verygood_percentage == "" 



      ){
        
        alert("Please fill in all fields");

    }else{

            if(x[currentTab]){
                 x[currentTab].style.display = "none";
            }
            currentTab = currentTab + n;
            if (currentTab >= x.length) {
              // ... the form gets submitted:
              document.getElementById("regForm").submit();
              return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
    }


  }else if(currentTab == 3){


    var engine_damaged =  document.getElementById("engine_damaged").value;
    var engin_repaired =  document.getElementById("engine_repaired").value;
    var engine_changed =  document.getElementById("engine_changed").value;



    var roof_painted =  document.getElementById("roof_painted").value;
    var front_middle_bumper_painted =  document.getElementById("front_middle_bumper_painted").value;
    var left_front_bumper_painted =  document.getElementById("left_front_bumper_painted").value;
    var right_front_bumper_painted =  document.getElementById("right_front_bumper_painted").value;


    var right_front_door_painted =  document.getElementById("right_front_door_painted").value;
    var right_back_door_painted =  document.getElementById("right_back_door_painted").value;
    var left_front_door_painted =  document.getElementById("left_front_door_painted").value;
    var left_back_door_painted =  document.getElementById("left_back_door_painted").value;



    var middle_back_bumper_painted =  document.getElementById("middle_back_bumper_painted").value;
    var left_back_bumper_painted =  document.getElementById("left_back_bumper_painted").value;
    var right_back_bumper_painted =  document.getElementById("right_back_bumper_painted").value;
    
    

    if(engine_damaged == "" 
      || engin_repaired == "" 
      || engine_changed == "" 
      || roof_painted == "" 
      || front_middle_bumper_painted == "" 
      || left_front_bumper_painted == "" 
      || right_front_bumper_painted == "" 
      || right_front_door_painted == "" 
      || right_back_door_painted == "" 
      || left_front_door_painted == "" 
      || left_back_door_painted == "" 
      || middle_back_bumper_painted == "" 
      || left_back_bumper_painted == "" 
      || right_back_bumper_painted == "" 


      ){
        
        alert("Please fill in all fields");

    }else{

            if(x[currentTab]){
                 x[currentTab].style.display = "none";
            }
            currentTab = currentTab + n;
            if (currentTab >= x.length) {
              // ... the form gets submitted:
              document.getElementById("regForm").submit();
              return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
    }


  }else if(currentTab == 4){


    var roof_damaged =  document.getElementById("roof_damaged").value;
    var roof_damaged_repaired =  document.getElementById("roof_damaged_repaired").value;
    var roof_damaged_changed =  document.getElementById("roof_damaged_changed").value;
    var front_middle_bumper_damaged =  document.getElementById("front_middle_bumper_damaged").value;
    var front_middle_bumper_repaired =  document.getElementById("front_middle_bumper_repaired").value;
    var front_middle_bumper_changed =  document.getElementById("front_middle_bumper_changed").value;
    var left_front_bumper_damaged =  document.getElementById("left_front_bumper_damaged").value;
    var left_front_bumper_repaired =  document.getElementById("left_front_bumper_repaired").value;
    var left_front_bumper_changed =  document.getElementById("left_front_bumper_changed").value;
    var right_front_bumper_damaged =  document.getElementById("right_front_bumper_damaged").value;
    var right_front_bumper_repaired =  document.getElementById("right_front_bumper_repaired").value;
    var right_front_bumper_changed =  document.getElementById("right_front_bumper_changed").value;
    var right_front_door_damaged =  document.getElementById("right_front_door_damaged").value;
    var right_front_door_repaired =  document.getElementById("right_front_door_repaired").value;
    var right_front_door_changed =  document.getElementById("right_front_door_changed").value;
    var right_back_door_damaged =  document.getElementById("right_back_door_damaged").value;
    var right_back_door_repaired =  document.getElementById("right_back_door_repaired").value;
    var right_back_door_changed =  document.getElementById("right_back_door_changed").value;
    var left_front_door_damaged =  document.getElementById("left_front_door_damaged").value;
    var left_front_door_repaired =  document.getElementById("left_front_door_repaired").value;
    var left_front_door_changed =  document.getElementById("left_front_door_changed").value;
    var left_back_door_damaged =  document.getElementById("left_back_door_damaged").value;
    var left_back_door_repaired =  document.getElementById("left_back_door_repaired").value;
    var left_back_door_changed =  document.getElementById("left_back_door_changed").value;
    var middle_back_bumper_damaged =  document.getElementById("middle_back_bumper_damaged").value;
    var middle_back_bumper_repaired =  document.getElementById("middle_back_bumper_repaired").value;
    var middle_back_bumper_changed =  document.getElementById("middle_back_bumper_changed").value;
    var left_back_bumper_damaged =  document.getElementById("left_back_bumper_damaged").value;
    var left_back_bumper_repaired =  document.getElementById("left_back_bumper_repaired").value;
    var left_back_bumper_changed =  document.getElementById("left_back_bumper_changed").value;
    var right_back_bumper_damaged =  document.getElementById("right_back_bumper_damaged").value;
    var right_back_bumper_repaired =  document.getElementById("right_back_bumper_repaired").value;
    var right_back_bumper_changed =  document.getElementById("right_back_bumper_changed").value;
   
    

    if(roof_damaged == "" 
      || roof_damaged_repaired == "" 
      || roof_damaged_changed == "" 
      || front_middle_bumper_damaged == ""
      || front_middle_bumper_repaired == ""
      || front_middle_bumper_changed == ""
      || left_front_bumper_damaged == ""
      || left_front_bumper_repaired == ""
      || left_front_bumper_changed == ""
      || right_front_bumper_damaged == ""
      || right_front_bumper_repaired == ""
      || right_front_bumper_changed == "" 
      || right_front_door_damaged == ""
      || right_front_door_repaired == ""
      || right_front_door_changed == ""
      || right_back_door_damaged == ""
      || right_back_door_repaired == ""
      || right_back_door_changed == ""
      || left_front_door_damaged == ""
      || left_front_door_repaired == ""
      || left_front_door_changed == ""
      || left_back_door_damaged == ""
      || left_back_door_repaired == ""
      || left_back_door_changed == ""
      || middle_back_bumper_damaged == ""
      || middle_back_bumper_repaired == ""
      || middle_back_bumper_changed == ""
      || left_back_bumper_damaged == ""
      || left_back_bumper_repaired == ""
      || left_back_bumper_changed == ""
      || right_back_bumper_damaged == ""
      || right_back_bumper_repaired == ""
      || right_back_bumper_changed == ""
      


      ){
        
        alert("Please fill in all fields");

    }else{

            if(x[currentTab]){
                 x[currentTab].style.display = "none";
            }
            currentTab = currentTab + n;
            if (currentTab >= x.length) {
              // ... the form gets submitted:
              document.getElementById("regForm").submit();
              return false;
            }
            // Otherwise, display the correct tab:
            showTab(currentTab);
    }


  }









 
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  if(x[n]){
    x[n].className += " active";
  }
  
}
</script>
                            <br><br><br>


 </div>

             </div>
                                </div>
                                </div>
                                </div>
                                </div>

            </div>



        </section>

        <% else %>
        <div align="center" style="margin-top: -700px;">
 <button class="value_button" data-toggle="modal" data-target="#modalLoginForm" style="margin-top: 35%;">PLEASE SIGN IN</button>
</div><br><br><br>
        <% end %>


